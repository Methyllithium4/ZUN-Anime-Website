<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Latest compiled and minified CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Latest compiled JavaScript -->

    
    
    <meta charset="utf-8">
    <title></title>
    <link href="css/styles.css" rel="stylesheet" />
</head>
<body class="bg-body-gradient">
  <!-- Navigation bar with logo -->
  <nav class="navbar navbar-expand-lg navbar-light bg-navbar-transparency fixed-top">
    <div class="container-fluid" >
        <!-- Navbar brand/logo -->
        <a class="navbar_logo" href="index.html"><img src="images/Zun_anime_logo.PNG" alt="ZUN-Anime" style="width:60px;"> ZÃ¼rich Universities Anime</a>

        <!-- Navbar toggler button for small screens -->
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon navbar-dark"></span>
        </button>

        <!-- Navbar links -->
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
              <li class="navbar_item">
                  <a class="navbar_item" href="about-us.html">What is ZUN-Anime?</a>
              </li>
              <li class="navbar_item">
                  <a class="navbar_item" href="4-koma.html">4-Koma</a>
              </li>
              <li class="navbar_item dropdown">
                <a class="navbar_item" href="join-us.html" role="button" data-bs-toggle="dropdown">Join Us!</a>
                <ul class="dropdown-menu dropdown-menu-end" style="background-color: rgba(12,12,12,0.9);">
                      <li><a class="dropdown_selection" href="join-us.html">Follow us on Social Media</a></li>
                      <li><a class="dropdown_selection" href="https://discord.gg/QHxAS48KPp">Join the Community on Discord!</a></li>
                      <li><a class="dropdown_selection" href="https://www.instagram.com/zun.anime/">Visit us on Instagram</a></li>
                </ul>
            </li>
          </ul>
      </div>
    </div>
  </nav>


    <main class="text-white">
        <div class="px-4 pt-5 my-5 text-center" style="width: 90%; background-color: rgba(28, 43, 50,0.8); margin: auto; padding: 3vh;">
            <h1 class="display-4 pt-5 fw-bold">ETH-Chan 4-Koma by LuluIcey</h1>
            <div class="col-lg-6 mx-auto">
                <p class="lead mb-4"></p>
                <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
                    <a class="btn btn-lg dropdown-toggle text-white fs-2" href="#" role="button" data-bs-toggle="dropdown">Select Semester</a>
                        <ul class="dropdown-menu dropdown-menu-end bg-dark">
                                <li><a  class="dropdown-item text-white fs-2" href="javascript:getYear('All');" > All</a></li>
                                <li><a  class="dropdown-item text-white fs-2" href="javascript:getYear('HS22');" > HS22</a></li>
                                <li><a  class="dropdown-item text-white fs-2" href="javascript:getYear('FS23');" > FS23</a></li>
                                <li><a class="dropdown-item text-white fs-2"  href="javascript:getYear('HS23');" > HS23</a></li>
                                <li><a class="dropdown-item text-white fs-2"  href="javascript:getYear('Special');" > Special</a></li>
                        </ul>
                    <a class="btn btn-lg text-white fs-2" style="text-decoration: none; color: white; display: block;" href="random-4-koma.html">Random 4-Koma</a> 
                  
                </div>  
              </div>
            <div class="image-container">
                <div class="row">
                    <div class="column">
                        <div class="thumbnail-container">
                            <div class="thumbnail">
                                <img id="image1" style="object-fit: contain; height: 30vh;">
                            </div>
                        </div>
                        <div class="thumbnail-container">
                            <div class="thumbnail">
                                <img id="image4" style="object-fit: contain; height: 30vh;">
                            </div>
                        </div>
                    </div>
                    <div class="column">
                        <div class="thumbnail-container">
                            <div class="thumbnail">
                                <img id="image2" style="object-fit: contain; height: 30vh;">
                            </div>
                        </div>
                        <div class="thumbnail-container">
                            <div class="thumbnail">
                                <img id="image5" style="object-fit: contain; height: 30vh;">
                            </div>
                        </div>
                    </div>
                    <div class="column">
                        <div class="thumbnail-container">
                            <div class="thumbnail">
                                <img id="image3" style="object-fit: contain; height: 30vh;">
                            </div>
                        </div>
                        <div class="thumbnail-container">
                            <div class="thumbnail">
                                <img id="image6" style="object-fit: contain; height: 30vh;">
                            </div>
                        </div>
                    </div>
                </div>
            
            </div>
            <div class="modal">
                <span class="close">&times;</span>
                <img class="modal-content" id="enlarged-image">
            </div>

            <nav aria-label="Page navigation">
            <ul class="pagination pagination-lg justify-content-center pt-5">
                <li class="page-item">
                <a class="page-link" href="javascript:switchPage(page-1);" aria-label="Previous">
                    <span aria-hidden="true">&laquo;</span> 
                    <span class="sr-only">Previous</span>
                </a>
                </li>
                <li class="page-item"><a class="page-link" href="javascript:switchPage(1);">1</a></li>
                <li class="page-item"><a class="page-link" href="javascript:switchPage(2);">2</a></li>
                <li class="page-item"><a class="page-link" href="javascript:switchPage(3);">3</a></li>
                <li class="page-item"><a class="page-link" href="javascript:switchPage(4);">4</a></li>
                <li class="page-item"><a class="page-link" href="javascript:switchPage(5);">5</a></li>
                <li class="page-item"><a class="page-link" href="javascript:switchPage(6);">6</a></li>
                <li class="page-item"><a class="page-link" href="javascript:switchPage(7);">7</a></li>
                <li class="page-item"><a class="page-link" href="javascript:switchPage(8);">8</a></li>
                <li class="page-item">
                <a class="page-link" href="javascript:switchPage(page+1);" aria-label="Next">
                    <span aria-hidden="true">&raquo;</span>
                    <span class="sr-only">Next</span>
                </a>
                </li>
            </ul>
            </nav>
        </div>
    <div class="b-example-divider"></div>
    </main>



    <script>

        var page = 1;
        var startImage;
        var start_image = 0;
        var end_image = 0;
        function getPage(page, start_image, end_image)
        {
            if(start_image == 0) 
                startImage = 6*page-5;
            else
                startImage = start_image; //really ugly but too tired to change var_names

            // Set the starting image according to the page

            function setImageSrc(element, src) {

                element.src = src;

                element.onerror = function () {
                    this.src = 'images/default.jpg';
                    this.onerror = null;
                };
            }
            // Set the source of the image using the starting number -> will probably simplify it down the line
            if(start_image == 'Special')
            {
                startImage = 1;
                setImageSrc(document.getElementById('image1'), 'images/4Koma/4-komaSpecial' + startImage + '.jpeg');
                setImageSrc(document.getElementById('image2'), 'images/4Koma/4-komaSpecial' + (startImage + 1) + '.jpeg');
                setImageSrc(document.getElementById('image3'), 'images/4Koma/4-komaSpecial' + (startImage + 2) + '.jpeg');
                setImageSrc(document.getElementById('image4'), 'images/4Koma/4-komaSpecial' + (startImage + 3) + '.jpeg');
                setImageSrc(document.getElementById('image5'), 'images/4Koma/4-komaSpecial' + (startImage + 4) + '.jpeg');
                setImageSrc(document.getElementById('image6'), 'images/4Koma/4-komaSpecial' + (startImage + 5) + '.jpeg');
            }
            
            
            else if(startImage <= end_image && start_image != 0)
            {
                var currentImage = 1
                for(var i = startImage; i <= startImage+5; i++)
                {
                    console.log(i);
                    if(i <= end_image)
                    {
                        setImageSrc(document.getElementById('image'+ currentImage), 'images/4Koma/4-koma' + i + '.jpeg');
                    }
                    else
                        setImageSrc(document.getElementById('image'+ currentImage), 'images/4Koma/4-koma' + 0 + '.jpeg');
                    currentImage++;
                }
                startImage += 6;
            }
            else if(start_image == 0)
            {
                setImageSrc(document.getElementById('image1'), 'images/4Koma/4-koma' + startImage + '.jpeg');
                setImageSrc(document.getElementById('image2'), 'images/4Koma/4-koma' + (startImage + 1) + '.jpeg');
                setImageSrc(document.getElementById('image3'), 'images/4Koma/4-koma' + (startImage + 2) + '.jpeg');
                setImageSrc(document.getElementById('image4'), 'images/4Koma/4-koma' + (startImage + 3) + '.jpeg');
                setImageSrc(document.getElementById('image5'), 'images/4Koma/4-koma' + (startImage + 4) + '.jpeg');
                setImageSrc(document.getElementById('image6'), 'images/4Koma/4-koma' + (startImage + 5) + '.jpeg');
            }


        }
        getPage(page, start_image, end_image);

        function getYear(semester)
        {
            switch(semester)
            {

                case 'All':
                    start_image = 0;
                    end_image = 0;
                    break;

                case 'HS23':
                    start_image = 35;
                    end_image = 43; //newest 4-koma atm
                    break;
                
                case 'FS23':
                    start_image = 13;
                    end_image = 34;
                    break;

                case 'HS22':
                    start_image = 1;
                    end_image = 12;
                    break;

                case 'Special':
                    start_image = 'Special'
                    end_image = 99;
                    break;
            }

            getPage(1, start_image, end_image);


        }

        function switchPage(p){
            
            page = p;
            if(page < 1)
                page = 1;
            if(page > 8)
                page = 8;
            p = page
            if(end_image == 0)
            getPage(p, 0, 0)
            else
            {
                startImage = start_image + (p*6-5)
                getPage(1, startImage, end_image);
            }

        }

        document.addEventListener("DOMContentLoaded", function () {
            const thumbnails = document.querySelectorAll('.thumbnail');
            const modal = document.querySelector('.modal');
            const modalImage = document.querySelector('#enlarged-image');
            const closeModal = document.querySelector('.close');
            
            thumbnails.forEach(thumbnail => {
                thumbnail.addEventListener('click', () => {
                    const imageSrc = thumbnail.querySelector('img').src;
                    modalImage.src = imageSrc;
                    modal.style.display = 'block';
                });
            });
            
            closeModal.addEventListener('click', () => {
                modal.style.display = 'none';
            });
            
            window.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
        });


    </script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>